const translations = {
    en: {
        // Navigation
        home: "Home",
        about: "About",
        projects: "Projects",
        contact: "Contact",
        portfolio_learning: "Learning Portfolio",
        project_context: "Context",
        project_progress: "Project Progress",
        technical_challenges: "Technical Challenges",
        skills_acquired: "Skills Acquired",
        conclusion: "Conclusion",

        // Project specific
        project_title: "Nuit de l'Info 2025 - NIRD Quiz",
        first_place_badge: "üèÜ 1st place in the Hair'Gonomie challenge (72 participating teams)",
        context_text_p1: "The Nuit de l'Info is a national hackathon taking place over an entire night (December 4-5, 2025). I formed a team of two developers with Alexandre SIMONGIOVANNI to create a web application raising awareness about planned obsolescence and sustainable alternatives (Linux, free software) for educational institutions.",
        context_text_p2: "We took on the \"Hair'Gonomie\" challenge proposed by CAPCOD, which invited us to radically rethink the ergonomics of an interface by breaking established conventions. Our concept: transform the interface itself into a living metaphor of obsolescence, making it progressively degrade to make users feel the problem rather than just talking about it.",

        progress_list: [
            "<strong>Radial circular navigation</strong> eliminating position biases of vertical lists",
            "<strong>System of 17 cumulative degradations</strong> worsening with each wrong answer",
            "<strong>Abolition of going back</strong> to reflect the irreversibility of obsolescence",
            "<strong>\"System health\" bar</strong> regressing instead of a progress bar",
            "<strong>7 levels of progressive degradation</strong> simulating system aging",
            "<strong>Simulated Chrome 404 page</strong> as the final state of total obsolescence",
            "<strong>Vanilla technologies</strong> (HTML5, CSS3, pure JavaScript) for rapid iteration",
            "<strong>Modern initial design</strong> (glassmorphism, gradients) making degradation more striking"
        ],

        challenges_list: [
            "<strong>Balance friction/usability</strong>: create a degraded but functional interface",
            "<strong>Cascading CSS architecture</strong>: manage cumulative degradations without conflicts",
            "<strong>Development under pressure</strong>: rapid decisions and prioritization in a timed context",
            "<strong>Assumed accessibility compromises</strong>: justify discomfort as a pedagogical tool"
        ],

        skills_list: [
            "<strong>Inverted design thinking and subversive UX</strong>",
            "<strong>Advanced CSS architecture and cumulative effects</strong>",
            "<strong>Rapid development and decision-making under pressure</strong>",
            "<strong>Experiential pedagogy and interactive storytelling</strong>",
            "<strong>Intensive pair collaboration</strong>"
        ],

        conclusion_text: "Our approach won first place in the Hair'Gonomie challenge among 72 teams, validating our concept of interface as a pedagogical vector. By intentionally creating user friction, we transformed a simple quiz into an immersive experience: the user does not read about planned obsolescence, they live it and feel it. This achievement perfectly illustrates the NIRD project's mission of raising awareness about responsible and sustainable digital issues.",

        see_on_github: "View on GitHub",
        link_to_project: "Link to the project",
        previous_project: "‚Üê Previous Project",
        next_project: "Next Project ‚Üí"
    },
    fr: {
        // Navigation
        home: "Accueil",
        about: "√Ä propos",
        projects: "Projets",
        contact: "Contact",
        portfolio_learning: "Portfolio d'apprentissage",
        project_context: "Contexte",
        project_progress: "D√©roulement du projet",
        technical_challenges: "D√©fis techniques",
        skills_acquired: "Comp√©tences acquises",
        conclusion: "Conclusion",

        // Project specific
        project_title: "Nuit de l'Info 2025 - NIRD Quiz",
        first_place_badge: "üèÜ 1√®re place du d√©fi Hair'Gonomie (72 √©quipes participantes)",
        context_text_p1: "La Nuit de l'Info est un hackathon national se d√©roulant sur une nuit enti√®re (4-5 d√©cembre 2025). J'ai form√© une √©quipe de deux d√©veloppeurs avec Alexandre SIMONGIOVANNI pour cr√©er une application web sensibilisant √† l'obsolescence programm√©e et aux alternatives durables (Linux, logiciels libres) pour les √©tablissements scolaires.",
        context_text_p2: "Nous avons relev√© le d√©fi \"Hair'Gonomie\" propos√© par CAPCOD, qui nous invitait √† repenser radicalement l'ergonomie d'une interface en cassant les conventions √©tablies. Notre concept : transformer l'interface elle-m√™me en m√©taphore vivante de l'obsolescence, en la faisant se d√©grader progressivement pour faire ressentir le probl√®me plut√¥t que d'en parler.",

        progress_list: [
            "<strong>Navigation circulaire radiale</strong> √©liminant les biais de position des listes verticales",
            "<strong>Syst√®me de 17 d√©gradations cumulatives</strong> s'aggravant √† chaque mauvaise r√©ponse",
            "<strong>Abolition du retour arri√®re</strong> pour refl√©ter l'irr√©versibilit√© de l'obsolescence",
            "<strong>Barre de \"sant√© du syst√®me\"</strong> r√©gressant au lieu d'une barre de progression",
            "<strong>7 niveaux de d√©gradation progressive</strong> simulant le vieillissement d'un syst√®me",
            "<strong>Page 404 Chrome simul√©e</strong> comme √©tat final d'obsolescence totale",
            "<strong>Technologies vanilla</strong> (HTML5, CSS3, JavaScript pur) pour une it√©ration rapide",
            "<strong>Design moderne initial</strong> (glassmorphism, gradients) rendant la d√©gradation plus frappante"
        ],

        challenges_list: [
            "<strong>√âquilibre friction/utilisabilit√©</strong> : cr√©er une interface d√©grad√©e mais fonctionnelle",
            "<strong>Architecture CSS en cascade</strong> : g√©rer l'accumulation des d√©gradations sans conflits",
            "<strong>D√©veloppement sous pression</strong> : d√©cisions rapides et priorisation dans un contexte chronom√©tr√©",
            "<strong>Compromis d'accessibilit√© assum√©s</strong> : justifier l'inconfort comme outil p√©dagogique"
        ],

        skills_list: [
            "<strong>Design thinking invers√© et UX subversive</strong>",
            "<strong>Architecture CSS avanc√©e et effets cumulatifs</strong>",
            "<strong>D√©veloppement rapide et prise de d√©cision sous pression</strong>",
            "<strong>P√©dagogie exp√©rientielle et narration interactive</strong>",
            "<strong>Collaboration intensive en bin√¥me</strong>"
        ],

        conclusion_text: "Notre approche a remport√© la premi√®re place du d√©fi Hair'Gonomie parmi 72 √©quipes, validant notre concept d'interface comme vecteur p√©dagogique. En cr√©ant intentionnellement de la friction utilisateur, nous avons transform√© un simple quiz en exp√©rience immersive : l'utilisateur ne lit pas sur l'obsolescence programm√©e, il la vit et la ressent. Cette r√©alisation illustre parfaitement la mission du projet NIRD de sensibilisation aux enjeux du num√©rique responsable et durable.",

        see_on_github: "Voir sur GitHub",
        link_to_project: "Lien vers le projet",
        previous_project: "‚Üê Projet Pr√©c√©dent",
        next_project: "Projet Suivant ‚Üí"
    }
};

document.addEventListener('DOMContentLoaded', () => {
    const languageSelect = document.getElementById('languageSelect');

    function setLanguage(lang) {
        localStorage.setItem('selectedLanguage', lang);
        updateContent(lang);
    }

    function updateContent(lang) {
        document.querySelectorAll('[data-translate]').forEach(element => {
            const key = element.getAttribute('data-translate');

            // Gestion des listes
            if (element.tagName === 'UL') {
                const translationKey = translations[lang][key];
                if (Array.isArray(translationKey)) {
                    element.innerHTML = '';
                    translationKey.forEach(item => {
                        const li = document.createElement('li');
                        li.innerHTML = item; // Using innerHTML to support <strong> tags
                        li.className = 'challenge-list';
                        element.appendChild(li);
                    });
                }
            }
            // Gestion des √©l√©ments de liste individuels
            else if (element.tagName === 'LI') {
                const keys = key.split('.');
                let translation = translations[lang];
                for (const k of keys) {
                    translation = translation[k];
                }
                if (translation) {
                    element.innerHTML = translation; // Using innerHTML to support <strong> tags
                }
            }
            // Gestion du texte normal
            else {
                const translation = translations[lang][key];
                if (translation) {
                    element.textContent = translation;
                }
            }
        });
    }

    languageSelect.addEventListener('change', (e) => {
        setLanguage(e.target.value);
    });

    // Charge la langue sauvegard√©e ou par d√©faut
    const savedLanguage = localStorage.getItem('selectedLanguage') || 'fr';
    languageSelect.value = savedLanguage;
    updateContent(savedLanguage);
});
